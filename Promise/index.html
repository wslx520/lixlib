<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Promise原理及实现</title>
</head>
<body>
	
</body>
<script src="promise.js"></script>
<script>
    var a = 100;
	var pm = new Promise(function aa (resolve, reject) {
        if(a<1000) {
            reject('太小了')
        } else {
            setTimeout(function () {
                resolve(a);
            },1000)
        }
    });
    console.log(pm)
    pm.then(function (val) {
        console.log(val);
    }).fail(function (ee) {
        console.log(ee)
    });
    var p1 = new Promise(function (resolve, reject) {
    	setTimeout(function () {
    		resolve(100);
    	},100)
    })
    var p2 = new Promise(function (resolve, reject) {
    	setTimeout(function () {
    		resolve(500);
    	},500)
    })
    var p3 = new Promise(function (resolve, reject) {
    	setTimeout(function () {
    		resolve(1500);
    	},1500)
    })
    Promise.all([p1,p2,p3]).then(function (list) {
    	console.log(list);
    })
    Promise.race([p1,p2,p3]).then(function (list) {
    	console.log(list);
    })
</script>
</html>
